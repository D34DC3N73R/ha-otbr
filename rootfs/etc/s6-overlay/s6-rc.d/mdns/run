#!/usr/bin/with-contenv bash
# vim: ft=bash
# shellcheck shell=bash
# ==============================================================================
# Start mDNSResponder daemon
# ==============================================================================
. /etc/s6-overlay/scripts/hassio_compat.sh
log_info "Starting mDNS Responder..."

# mdnsd runs as daemon except when using debug mode. We prefer non-daemon, so
# start in debug by default. Filter out harmless socket errors on unavailable interfaces.
exec /usr/sbin/mdnsd -debug 2>&1 | grep -vE '(mDNSPlatformSendUDP got error|Network is unreachable|Bad file descriptor)'
